webpackJsonp([1],{100:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var a=r(92),n=r(93),s=r(137),i=r.n(s),o=r(156);a.a.use(n.b);var c=new n.b.Store({state:{allLayers:[],selectedLayers:[]},getters:{getAllLayers:function(e){return e.allLayers},getSelectedLayers:function(e){return e.selectedLayers},getRouterQuery:function(e){return e.route.query}},actions:{loadLayers:function(e){var t=e.commit;i.a.get(o.a.getUrl()).then(function(e){var r=e.data.results;t("ADD_LAYERS",r)}).catch(function(e){return console.log(e)})}},mutations:{ADD_LAYERS:function(e,t){e.allLayers.length||t.map(function(t){e.allLayers.push({id:t.id,title:t.title,tags:t.tags,selected:!1})})},SELECT_LAYER:function(e,t){var r=e.allLayers.find(function(e){return e.id===t});r.selected=!0;var a={id:r.id,title:r.title,tags:r.tags,selected:!0};e.selectedLayers.push(a)},DESELECT_LAYER:function(e,t){e.allLayers.find(function(e){return e.id===t}).selected=!1;var r=e.selectedLayers.find(function(e){return e.id===t});e.selectedLayers.splice(e.selectedLayers.indexOf(r),1)}}})},134:function(e,t,r){e.exports=r.p+"static/img/CITY-LOGO.bcb226c.png"},135:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(92),n=r(391),s=(r.n(n),r(381)),i=r.n(s),o=r(157),c=r(100),u=r(373),l=(r.n(u),r(374));r.n(l);a.a.config.productionTip=!1,r.i(n.sync)(c.a,o.a),new a.a({el:"#app",router:o.a,store:c.a,template:"<App/>",components:{App:i.a}})},155:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var a=r(100),n=function(e,t,r){e.dojoRequire(["esri/core/urlUtils","esri/core/watchUtils","esri/views/MapView","esri/Map","esri/layers/VectorTileLayer","esri/layers/Layer","esri/widgets/Expand","esri/widgets/Legend","esri/widgets/LayerList","esri/widgets/Search"],function(e,r,n,s,i,o,c,u,l,d){var f=e.urlToObject(window.location.href),p=f.query.center.split(",").map(function(e){return parseFloat(e)}),v=f.query.ids.split(","),m=f.query.zoom,y=new s({basemap:"topo-vector"}),h=new n({map:y,container:"viewDiv",zoom:m,center:p});v.forEach(function(e){o.fromPortalItem({portalItem:{id:e}}).then(function(e){y.add(e)})}),h.then(function(){var e=new u({view:h,container:document.createElement("div")}),t=new l({view:h,container:document.createElement("div")}),r=new c({view:h,content:e.domNode,expandIconClass:"esri-icon-collection",expandTooltip:"Legend"}),a=new c({view:h,content:t.domNode,expandIconClass:"esri-icon-layer-list",expandTooltip:"Layers"});h.ui.add(a,"top-right"),h.ui.add(r,"top-right")});var L=new d({view:h});h.ui.add(L,{position:"top-left",index:0}),r.whenTrue(h,"stationary",function(){var e=[h.center.longitude.toFixed(3),h.center.latitude.toFixed(3)].toString(),r=h.zoom;t.push({name:"map",query:{mapTitle:a.a.state.route.query.mapTitle,zoom:r,ids:v.join(","),center:e}})})})}},156:function(e,t,r){"use strict";t.a={groupID:"1478688468f14058863b246e1d7c6be0",numberOfItems:50,sortField:"title",sortOrder:"asc",getUrl:function(){return"https://www.arcgis.com/sharing/search?q=group%3A%22"+this.groupID+"%22&f=json&num="+this.numberOfItems+"&sortField="+this.sortField+"&sortOrder="+this.sortOrder},tileLayerURL:"https://www.arcgis.com/sharing/rest/content/items/86d5ed4b6dc741de9dad5f0fbe09ae95/resources/styles/root.json"}},157:function(e,t,r){"use strict";var a=r(92),n=r(389),s=r(383),i=r.n(s),o=r(384),c=r.n(o);a.a.use(n.a),t.a=new n.a({routes:[{path:"/",component:i.a},{path:"/map",component:c.a,name:"map"}],mode:"history"})},158:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},159:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["layerInfo"],methods:{selectLayer:function(e){return this.$store.commit("SELECT_LAYER",e)},deSelectLayer:function(e){return this.$store.commit("DESELECT_LAYER",e)}}}},160:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(163),n=r.n(a),s=r(382),i=r.n(s),o=r(93);t.default={data:function(){return{filterQuery:""}},components:{"app-layer":i.a},computed:n()({},r.i(o.a)({allLayers:"getAllLayers",selectedLayers:"getSelectedLayers"}),{displayedLayers:function(){return this.allLayers.filter(this.filterLayer)},layerIds:function(){var e=[];return this.selectedLayers.forEach(function(t){return e.push(t.id)}),e}}),created:function(){this.$store.dispatch("loadLayers")},methods:{filterLayer:function(e){var t=e.tags.join(" ").toLowerCase(),r=e.title.toLowerCase(),a=t+r,n=this.filterQuery.toLowerCase();return a.indexOf(n)>-1}}}},161:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(372),n=(r.n(a),r(155)),s=r(93);t.default={data:function(){return{mapTitle:"Create Map"}},computed:r.i(s.a)({selectedLayers:"getSelectedLayers",routerQuery:"getRouterQuery"}),methods:{updateTitle:function(e){var t=e;this.$router.push({name:"map",query:{mapTitle:t,zoom:this.routerQuery.zoom,ids:this.routerQuery.ids,center:this.routerQuery.center}})}},mounted:function(){var e=this;a.isLoaded()?r.i(n.a)(a,this.$router,this.routerQuery.mapTitle):a.bootstrap(function(t){t&&console.error(t),r.i(n.a)(a,e.$router,e.routerQuery.mapTitle)},{url:"https://js.arcgis.com/4.4/"})}}},373:function(e,t){},374:function(e,t){},375:function(e,t){},376:function(e,t){},377:function(e,t){},378:function(e,t){},381:function(e,t,r){r(377);var a=r(60)(r(158),r(387),null,null);e.exports=a.exports},382:function(e,t,r){r(375);var a=r(60)(r(159),r(385),"data-v-03af5c40",null);e.exports=a.exports},383:function(e,t,r){r(378);var a=r(60)(r(160),r(388),"data-v-6ae4e97a",null);e.exports=a.exports},384:function(e,t,r){r(376);var a=r(60)(r(161),r(386),"data-v-216153aa",null);e.exports=a.exports},385:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("th",[e._v(e._s(e.layerInfo.title))]),e._v(" "),e.layerInfo.selected?r("td",[r("button",{staticClass:"button is-danger",on:{click:function(t){e.deSelectLayer(e.layerInfo.id)}}},[e._v("Remove")])]):r("td",[r("button",{staticClass:"button is-primary",on:{click:function(t){e.selectLayer(e.layerInfo.id)}}},[e._v("Add ")])])])},staticRenderFns:[]}},386:function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("nav",{staticClass:"nav hero is-default has-shadow"},[a("div",{staticClass:"container"},[a("div",{staticClass:"nav-left"},[a("router-link",{staticClass:"nav-item",attrs:{to:"/"}},[a("img",{attrs:{src:r(134),alt:"Vue"}})]),e._v(" "),a("input",{staticClass:"title is-3",domProps:{value:e.routerQuery.mapTitle},on:{input:function(t){e.updateTitle(t.target.value)}}})],1)])]),e._v(" "),a("div",{staticClass:"balt-theme",attrs:{id:"viewDiv"}})])},staticRenderFns:[]}},387:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("router-view")},staticRenderFns:[]}},388:function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),e._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-three-quarters"},[r("p",{staticClass:"control has-icon has-icon-right"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterQuery,expression:"filterQuery"}],staticClass:"input is-large",attrs:{type:"text",placeholder:"Find a Layer"},domProps:{value:e.filterQuery},on:{input:function(t){t.target.composing||(e.filterQuery=t.target.value)}}}),e._v(" "),e._m(1)]),e._v(" "),e.selectedLayers.length>5?r("p",{staticClass:"help is-danger"},[e._v("Add upto 5 layers")]):e._e()])]),e._v(" "),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-three-quarters"},[r("table",{staticClass:"table is-bordered"},[r("tfoot",e._l(e.displayedLayers,function(e){return r("app-layer",{key:e.id,attrs:{layerInfo:e}})}))],1)]),e._v(" "),r("div",[r("router-link",{staticClass:"button is-large is-info",attrs:{to:{name:"map",query:{mapTitle:"Give Your Map a Title",zoom:12,ids:e.layerIds.join(","),center:"-76.615,39.289"}},tag:"button",disabled:!e.selectedLayers.length||e.selectedLayers.length>5,exact:""}},[e._v("Create Map")])],1)])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"nav hero is-default has-shadow"},[a("div",{staticClass:"container"},[a("div",{staticClass:"nav-left"},[a("div",{staticClass:"nav-item"},[a("img",{attrs:{src:r(134),alt:"Vue"}}),e._v(" "),a("h1",{staticClass:"title is-3"},[a("strong",[e._v("Create Map")])])])])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon is-medium"},[r("i",{staticClass:"fa fa-search"})])}]}},392:function(e,t,r){r(136),e.exports=r(135)}},[392]);
//# sourceMappingURL=app.a650066100090edd9c84.js.map