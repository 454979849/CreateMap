webpackJsonp([1],{20:function(e,t,r){e.exports=r.p+"static/img/CITY-LOGO.33d15ab.png"},21:function(e,t,r){"use strict";var a=r(2),s=r(93),n=r(87),i=r.n(n),o=r(88),c=r.n(o);a.a.use(s.a),t.a=new s.a({routes:[{path:"/",component:i.a},{path:"/map",component:c.a,name:"map"}]})},22:function(e,t){},23:function(e,t){},24:function(e,t,r){function a(e){r(82)}var s=r(1)(r(44),r(91),a,null,null);e.exports=s.exports},44:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},45:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["layerInfo"],methods:{selectLayer:function(e){return this.$store.commit("SELECT_LAYER",e)},deSelectLayer:function(e){return this.$store.commit("DESELECT_LAYER",e)}}}},46:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(51),s=r.n(a),n=r(86),i=r.n(n),o=r(8);t.default={data:function(){return{filterQuery:""}},components:{"app-layer":i.a},computed:s()({},r.i(o.a)({allLayers:"getAllLayers",selectedLayers:"getSelectedLayers"}),{displayedLayers:function(){return this.allLayers.filter(this.filterLayer)},layerIds:function(){var e=[];return this.selectedLayers.forEach(function(t){return e.push(t.id)}),e}}),created:function(){this.$store.dispatch("loadLayers")},methods:{filterLayer:function(e){var t=e.tags.join(" ").toLowerCase(),r=e.title.toLowerCase(),a=t+r,s=this.filterQuery.toLowerCase();return a.indexOf(s)>-1}}}},47:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(79),s=r(8),n=r(9);t.default={data:function(){return{mapTitle:"Create Map"}},computed:r.i(s.a)({selectedLayers:"getSelectedLayers",routerQuery:"getRouterQuery"}),methods:{updateTitle:function(e){var t=e;this.$router.push({name:"map",query:{mapTitle:t,zoom:this.routerQuery.zoom,ids:this.routerQuery.ids,center:this.routerQuery.center}})},createMap:function(e,t,r){var a=this;e.dojoRequire(["esri/core/watchUtils","esri/views/MapView","esri/Map","esri/layers/VectorTileLayer","esri/layers/Layer","esri/widgets/Expand","esri/widgets/Legend","esri/widgets/LayerList","esri/widgets/Search"],function(e,r,s,i,o,c,u,l,d){var f=a.routerQuery,p=f.center.split(",").map(function(e){return parseFloat(e)}),v=f.ids.split(","),m=f.zoom,y=new s({basemap:"topo-vector"}),h=new r({map:y,container:"viewDiv",zoom:m,center:p});v.forEach(function(e){o.fromPortalItem({portalItem:{id:e}}).then(function(e){y.add(e)})}),h.then(function(){var e=new u({view:h,container:document.createElement("div")}),t=new l({view:h,container:document.createElement("div")}),r=new c({view:h,content:e.domNode,expandIconClass:"esri-icon-collection",expandTooltip:"Legend"}),a=new c({view:h,content:t.domNode,expandIconClass:"esri-icon-layer-list",expandTooltip:"Layers"});h.ui.add(a,"top-right"),h.ui.add(r,"top-right")});var L=new d({view:h});h.ui.add(L,{position:"top-left",index:0}),e.whenTrue(h,"stationary",function(){var e=[h.center.longitude.toFixed(3),h.center.latitude.toFixed(3)].toString(),r=h.zoom;t.push({name:"map",query:{mapTitle:n.a.state.route.query.mapTitle,zoom:r,ids:v.join(","),center:e}})})})}},mounted:function(){var e=this;a.isLoaded()?this.createMap(a,this.$router,this.routerQuery.mapTitle):a.bootstrap(function(t){t&&console.error(t),e.createMap(a,e.$router,e.routerQuery.mapTitle)},{url:"https://js.arcgis.com/4.4/"})}}},48:function(e,t,r){"use strict";t.a={groupID:"1478688468f14058863b246e1d7c6be0",numberOfItems:50,sortField:"title",sortOrder:"asc",getUrl:function(){return"https://www.arcgis.com/sharing/search?q=group%3A%22"+this.groupID+"%22&f=json&num="+this.numberOfItems+"&sortField="+this.sortField+"&sortOrder="+this.sortOrder},tileLayerURL:"https://www.arcgis.com/sharing/rest/content/items/86d5ed4b6dc741de9dad5f0fbe09ae95/resources/styles/root.json"}},49:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),s=r(25),n=(r.n(s),r(24)),i=r.n(n),o=r(21),c=r(9),u=r(22),l=(r.n(u),r(23));r.n(l);a.a.config.productionTip=!1,r.i(s.sync)(c.a,o.a),new a.a({el:"#app",router:o.a,store:c.a,template:"<App/>",components:{App:i.a}})},80:function(e,t){},81:function(e,t){},82:function(e,t){},83:function(e,t){},86:function(e,t,r){function a(e){r(80)}var s=r(1)(r(45),r(89),a,"data-v-03af5c40",null);e.exports=s.exports},87:function(e,t,r){function a(e){r(83)}var s=r(1)(r(46),r(92),a,"data-v-6ae4e97a",null);e.exports=s.exports},88:function(e,t,r){function a(e){r(81)}var s=r(1)(r(47),r(90),a,"data-v-216153aa",null);e.exports=s.exports},89:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{staticClass:"is-three-quarters"},[r("th",[e._v(e._s(e.layerInfo.title))]),e._v(" "),e.layerInfo.selected?r("td",[r("button",{staticClass:"button is-danger",on:{click:function(t){e.deSelectLayer(e.layerInfo.id)}}},[e._v("Remove")])]):r("td",[r("button",{staticClass:"button is-primary",on:{click:function(t){e.selectLayer(e.layerInfo.id)}}},[e._v("Add ")])])])},staticRenderFns:[]}},9:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var a=r(2),s=r(8),n=r(26),i=r.n(n),o=r(48);a.a.use(s.b);var c=new s.b.Store({state:{allLayers:[],selectedLayers:[]},getters:{getAllLayers:function(e){return e.allLayers},getSelectedLayers:function(e){return e.selectedLayers},getRouterQuery:function(e){return e.route.query}},actions:{loadLayers:function(e){var t=e.commit;i.a.get(o.a.getUrl()).then(function(e){var r=e.data.results;t("ADD_LAYERS",r)}).catch(function(e){return console.log(e)})}},mutations:{ADD_LAYERS:function(e,t){e.allLayers.length||t.map(function(t){e.allLayers.push({id:t.id,title:t.title,tags:t.tags,selected:!1})})},SELECT_LAYER:function(e,t){var r=e.allLayers.find(function(e){return e.id===t});r.selected=!0;var a={id:r.id,title:r.title,tags:r.tags,selected:!0};e.selectedLayers.push(a)},DESELECT_LAYER:function(e,t){e.allLayers.find(function(e){return e.id===t}).selected=!1;var r=e.selectedLayers.find(function(e){return e.id===t});e.selectedLayers.splice(e.selectedLayers.indexOf(r),1)}}})},90:function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("nav",{staticClass:"nav hero is-default has-shadow"},[a("div",{staticClass:"container"},[a("div",{staticClass:"nav-left"},[a("router-link",{staticClass:"nav-item",attrs:{to:"/"}},[a("img",{attrs:{src:r(20),alt:"Vue"}})]),e._v(" "),a("input",{staticClass:"title is-3",domProps:{value:e.routerQuery.mapTitle},on:{input:function(t){e.updateTitle(t.target.value)}}})],1)])]),e._v(" "),a("div",{staticClass:"balt-theme",attrs:{id:"viewDiv"}})])},staticRenderFns:[]}},91:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("router-view")},staticRenderFns:[]}},92:function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),e._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-three-quarters"},[r("p",{staticClass:"control has-icon has-icon-right"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterQuery,expression:"filterQuery"}],staticClass:"input is-large",attrs:{type:"text",placeholder:"Find a Layer"},domProps:{value:e.filterQuery},on:{input:function(t){t.target.composing||(e.filterQuery=t.target.value)}}}),e._v(" "),e._m(1)]),e._v(" "),e.selectedLayers.length>5?r("p",{staticClass:"help is-danger"},[e._v("Add upto 5 layers")]):e._e()])]),e._v(" "),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-three-quarters"},[r("table",{staticClass:"table is-bordered is-fullwidth"},[r("tfoot",e._l(e.displayedLayers,function(e){return r("app-layer",{key:e.id,attrs:{layerInfo:e}})}))])]),e._v(" "),r("div",{staticClass:"column"},[r("router-link",{staticClass:"button is-large is-info",attrs:{to:{name:"map",query:{mapTitle:"Give Your Map a Title",zoom:12,ids:e.layerIds.join(","),center:"-76.615,39.289"}},tag:"button",disabled:!e.selectedLayers.length||e.selectedLayers.length>5,exact:""}},[e._v("Create Map")])],1)])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"nav hero is-default has-shadow"},[a("div",{staticClass:"container"},[a("div",{staticClass:"nav-left"},[a("div",{staticClass:"nav-item"},[a("img",{attrs:{src:r(20),alt:"Vue"}}),e._v(" "),a("h1",{staticClass:"title is-3"},[a("strong",[e._v("Create Map")])])])])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon is-medium"},[r("i",{staticClass:"fa fa-search"})])}]}}},[49]);
//# sourceMappingURL=app.ee4407c3757642a94c2b.js.map